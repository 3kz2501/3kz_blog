---
title: "Soroban固定小数点演算ライブラリに符号付き演算の丸め処理とオーバーフロー処理の不具合"
description: "Sorobanスマートコントラクト向け固定小数点演算ライブラリにおいて、負数を含む計算時に丸め処理が誤った方向に適用される脆弱性が発見されました。中間積と除数の両方が負の場合に符号処理が不適切となり、計算結果に誤差が生じます。"
date: "2026/01/28"
page: false
published: true
category: "security"
severity: "high"
cve_id: "CVE-2026-24783"
source: "CVEfeed.io"
original_link: "https://cvefeed.io/vuln/detail/CVE-2026-24783"
tags: ["CVE", "Security", "High"]
---

# 🟠 Soroban固定小数点演算ライブラリに符号付き演算の丸め処理とオーバーフロー処理の不具合

## 概要

Sorobanスマートコントラクト向け固定小数点演算ライブラリにおいて、負数を含む計算時に丸め処理が誤った方向に適用される脆弱性が発見されました。中間積と除数の両方が負の場合に符号処理が不適切となり、計算結果に誤差が生じます。

**CVE ID**: CVE-2026-24783
**深刻度**: HIGH
**情報源**: [CVEfeed.io](https://cvefeed.io/vuln/detail/CVE-2026-24783)

## 詳細

## 脆弱性の詳細

soroban-fixed-point-mathは、Sorobanスマートコントラクト向けの固定小数点演算ライブラリです。バージョン1.3.0および1.4.0において、`mulDiv(x, y, z)`関数に重大な不具合が存在します。

### 問題の内容

- 中間積 `x * y` と除数 `z` の両方が負の値である場合、符号処理が不適切
- 実装ロジックが中間積が負であれば最終結果も負であると誤って仮定
- 除数 `z` の符号を考慮していないため、丸め処理が誤った方向に適用される

### 影響を受ける関数

特に以下の関数がリスクが高いとされています：

- `fixed_div_floor`: 床関数による除算
- `fixed_div_ceil`: 天井関数による除算

これらの関数は非定数値を除数 `z` として使用することが多いため、脆弱性の影響を受けやすくなっています。

### 影響範囲

すべての符号付き固定小数点実装が影響を受けます：

- `FixedPoint` 実装: `i64`, `i128`, `I256`
- `SorobanFixedPoint` 実装: `i64`, `i128`, `I256`

## 影響範囲

この脆弱性により、Sorobanスマートコントラクト内で負数を含む固定小数点演算を行う際に、計算結果が誤った値となる可能性があります。特に金融計算や精密な数値演算を行うスマートコントラクトにおいて、予期しない挙動や資産の誤計算につながる恐れがあります。CVSS スコアは7.5（HIGH）と評価されており、深刻度の高い脆弱性として扱われています。


### 影響を受ける製品・サービス

- soroban-fixed-point-math バージョン 1.3.0
- soroban-fixed-point-math バージョン 1.4.0
- FixedPoint (i64, i128, I256)
- SorobanFixedPoint (i64, i128, I256)


## 対応方法

## 対応方法

### パッチ適用（推奨）

以下のバージョンにアップデートすることで脆弱性が修正されます：

- **バージョン 1.3.1**（1.3.0からのアップグレード）
- **バージョン 1.4.1**（1.4.0からのアップグレード）

### 回避策

現時点で既知の回避策は存在しません。影響を受けるバージョンを使用している場合は、速やかにパッチが適用されたバージョンへのアップデートを実施してください。

### 確認事項

- 自社で使用しているsoroban-fixed-point-mathのバージョンを確認
- バージョン1.3.0または1.4.0を使用している場合は、早急にアップデートを計画
- 負数を含む固定小数点演算を行っているスマートコントラクトの動作を再検証

---

**参考リンク**: [元記事を確認](https://cvefeed.io/vuln/detail/CVE-2026-24783)

この記事は自動生成されました。内容の正確性については保証されませんので、必ず公式情報をご確認ください。

---
title: "Zed IDE におけるMCP設定を悪用した任意コード実行の脆弱性"
description: "Zed IDEにおいて、プロジェクト内のMCP（Model Context Protocol）設定ファイルを通じて任意のシェルコマンドが実行される脆弱性が発見されました。プロジェクトを開くだけで自動的にトリガーされる可能性があります。"
date: "2025/12/18"
page: false
published: true
category: "security"
severity: "high"
cve_id: "CVE-2025-68433"
source: "CVEfeed.io"
original_link: "https://cvefeed.io/vuln/detail/CVE-2025-68433"
tags: ["CVE", "Security", "High"]
---

# 🟠 Zed IDE におけるMCP設定を悪用した任意コード実行の脆弱性

## 概要

Zed IDEにおいて、プロジェクト内のMCP（Model Context Protocol）設定ファイルを通じて任意のシェルコマンドが実行される脆弱性が発見されました。プロジェクトを開くだけで自動的にトリガーされる可能性があります。

**CVE ID**: CVE-2025-68433
**深刻度**: HIGH
**情報源**: [CVEfeed.io](https://cvefeed.io/vuln/detail/CVE-2025-68433)

## 詳細

## 脆弱性の詳細

Zed IDEは、プロジェクトの `.zed` サブディレクトリ内にある `settings.json` ファイルからModel Context Protocol（MCP）の設定を読み込みます。

### 攻撃シナリオ

- 悪意のあるMCP設定ファイルに任意のシェルコマンドを埋め込むことが可能
- IDEを実行しているユーザーの権限でホストシステム上でコマンドが実行される
- **ユーザーの操作なし**でプロジェクトを開くだけで自動的にトリガーされる

### 技術的背景

この脆弱性は、信頼されていないプロジェクト設定ファイルを無条件に読み込み、その中のコマンドを実行してしまうことに起因します。特にMCP設定の処理において、入力検証が不十分であったと考えられます。

## 修正内容

バージョン 0.218.2-pre では、ワークツリー信頼メカニズム（worktree trust mechanism）が実装され、信頼されていないプロジェクトからの設定読み込みを制限するようになりました。

## 影響範囲

- 攻撃者が作成した悪意のあるプロジェクトを開いた場合、任意のコードが実行される
- IDEを実行しているユーザーの権限で、システムへの不正アクセス、データの窃取、マルウェアのインストールなどが可能
- サプライチェーン攻撃のベクターとして悪用される可能性（悪意のあるプロジェクトの配布）
- ユーザー操作を必要としないため、気づかないうちに攻撃される危険性が高い
- CVSSスコア: 7.7（HIGH）


### 影響を受ける製品・サービス

- Zed IDE バージョン 0.218.2-pre 未満


## 対応方法

## 即座に実施すべき対策

1. **アップデートの適用**
   - Zed IDE をバージョン 0.218.2-pre 以降に更新してください

## 暫定的な回避策（アップデートができない場合）

2. **プロジェクト設定ファイルの事前確認**
   - 新しいプロジェクトを Zed で開く前に、`.zed/settings.json` ファイルの内容を慎重にレビューしてください
   - 特に不明なコマンドやスクリプトが含まれていないか確認してください

3. **信頼できないプロジェクトの取り扱い**
   - 出所不明のプロジェクトや第三者から受け取ったプロジェクトは、十分な検証を行うまで開かないでください
   - 可能であれば、サンドボックス環境で事前に検証してください

## 参考情報

- CVE-2025-68433
- 公開日: 2025年12月17日

---

**参考リンク**: [元記事を確認](https://cvefeed.io/vuln/detail/CVE-2025-68433)

この記事は自動生成されました。内容の正確性については保証されませんので、必ず公式情報をご確認ください。

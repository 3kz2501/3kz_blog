var un=Object.defineProperty;var Ut=e=>{throw TypeError(e)};var pn=(e,t,r)=>t in e?un(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var w=(e,t,r)=>pn(e,typeof t!="symbol"?t+"":t,r),ut=(e,t,r)=>t.has(e)||Ut("Cannot "+r);var f=(e,t,r)=>(ut(e,t,"read from private field"),r?r.call(e):t.get(e)),j=(e,t,r)=>t.has(e)?Ut("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),v=(e,t,r,n)=>(ut(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),O=(e,t,r)=>(ut(e,t,"access private method"),r);var zt=(e,t,r,n)=>({set _(s){v(e,t,s,r)},get _(){return f(e,t,n)}});import{AsyncLocalStorage as mn}from"node:async_hooks";function gn(){const{process:e,Deno:t}=globalThis;return!(typeof(t==null?void 0:t.noColor)=="boolean"?t.noColor:e!==void 0?"NO_COLOR"in(e==null?void 0:e.env):!1)}var Ot="__COMPOSED_HANDLER",br=e=>e.length>1,wr=e=>e[Ot]?wr(e[Ot]):e,vn=e=>e.name||(br(e)?"[middleware]":"[handler]"),yn=e=>e.routes.map(({path:t,method:r,handler:n})=>{const s=wr(n);return{path:t,method:r,name:vn(s),isMiddleware:br(s)}}),bn=(e,t)=>{const r=gn(),n={};let s=0,i=0;yn(e).filter(({isMiddleware:o})=>!o).map(o=>{const a=`${o.method}-${o.path}`;if((n[a]||(n[a]=[])).push(o),!(n[a].length>1))return s=Math.max(s,o.method.length),i=Math.max(i,o.path.length),{method:o.method,path:o.path,routes:n[a]}}).forEach(o=>{if(!o)return;const{method:a,path:l,routes:d}=o,h=r?`\x1B[32m${a}\x1B[0m`:a;console.log(`${h} ${" ".repeat(s-a.length)} ${l}`)})},Er={Stringify:1},B=(e,t)=>{const r=new String(e);return r.isEscaped=!0,r.callbacks=t,r},wn=/[&<>'"]/,xr=async(e,t)=>{let r="";t||(t=[]);const n=await Promise.all(e);for(let s=n.length-1;r+=n[s],s--,!(s<0);s--){let i=n[s];typeof i=="object"&&t.push(...i.callbacks||[]);const o=i.isEscaped;if(i=await(typeof i=="object"?i.toString():i),typeof i=="object"&&t.push(...i.callbacks||[]),i.isEscaped??o)r+=i;else{const a=[r];fe(i,a),r=a[0]}}return B(r,t)},fe=(e,t)=>{const r=e.search(wn);if(r===-1){t[0]+=e;return}let n,s,i=0;for(s=r;s<e.length;s++){switch(e.charCodeAt(s)){case 34:n="&quot;";break;case 39:n="&#39;";break;case 38:n="&amp;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}t[0]+=e.substring(i,s)+n,i=s+1}t[0]+=e.substring(i,s)},_r=e=>{const t=e.callbacks;if(!(t!=null&&t.length))return e;const r=[e],n={};return t.forEach(s=>s({phase:Er.Stringify,buffer:r,context:n})),r[0]},jr=async(e,t,r,n,s)=>{typeof e=="object"&&!(e instanceof String)&&(e instanceof Promise||(e=e.toString()),e instanceof Promise&&(e=await e));const i=e.callbacks;return i!=null&&i.length?(s?s[0]+=e:s=[e],Promise.all(i.map(a=>a({phase:t,buffer:s,context:n}))).then(a=>Promise.all(a.filter(Boolean).map(l=>jr(l,t,!1,n,s))).then(()=>s[0]))):Promise.resolve(e)},En=(e,...t)=>{const r=[""];for(let n=0,s=e.length-1;n<s;n++){r[0]+=e[n];const i=Array.isArray(t[n])?t[n].flat(1/0):[t[n]];for(let o=0,a=i.length;o<a;o++){const l=i[o];if(typeof l=="string")fe(l,r);else if(typeof l=="number")r[0]+=l;else{if(typeof l=="boolean"||l===null||l===void 0)continue;if(typeof l=="object"&&l.isEscaped)if(l.callbacks)r.unshift("",l);else{const d=l.toString();d instanceof Promise?r.unshift("",d):r[0]+=d}else l instanceof Promise?r.unshift("",l):fe(l.toString(),r)}}}return r[0]+=e.at(-1),r.length===1?"callbacks"in r?B(_r(B(r[0],r.callbacks))):B(r[0]):xr(r,r.callbacks)},Dt=Symbol("RENDERER"),Rt=Symbol("ERROR_HANDLER"),A=Symbol("STASH"),kr=Symbol("INTERNAL"),xn=Symbol("MEMO"),ct=Symbol("PERMALINK"),Wt=e=>(e[kr]=!0,e),Or=e=>({value:t,children:r})=>{if(!r)return;const n={children:[{tag:Wt(()=>{e.push(t)}),props:{}}]};Array.isArray(r)?n.children.push(...r.flat()):n.children.push(r),n.children.push({tag:Wt(()=>{e.pop()}),props:{}});const s={tag:"",props:n,type:""};return s[Rt]=i=>{throw e.pop(),i},s},Rr=e=>{const t=[e],r=Or(t);return r.values=t,r.Provider=r,Se.push(r),r},Se=[],Lt=e=>{const t=[e],r=n=>{t.push(n.value);let s;try{s=n.children?(Array.isArray(n.children)?new Pr("",{},n.children):n.children).toString():""}finally{t.pop()}return s instanceof Promise?s.then(i=>B(i,i.callbacks)):B(s)};return r.values=t,r.Provider=r,r[Dt]=Or(t),Se.push(r),r},xe=e=>e.values.at(-1),et={title:[],script:["src"],style:["data-href"],link:["href"],meta:["name","httpEquiv","charset","itemProp"]},Nt={},tt="data-precedence",Ge=e=>Array.isArray(e)?e:[e],qt=new WeakMap,Kt=(e,t,r,n)=>({buffer:s,context:i})=>{if(!s)return;const o=qt.get(i)||{};qt.set(i,o);const a=o[e]||(o[e]=[]);let l=!1;const d=et[e];if(d.length>0){e:for(const[,h]of a)for(const p of d)if(((h==null?void 0:h[p])??null)===(r==null?void 0:r[p])){l=!0;break e}}if(l?s[0]=s[0].replaceAll(t,""):d.length>0?a.push([t,r,n]):a.unshift([t,r,n]),s[0].indexOf("</head>")!==-1){let h;if(n===void 0)h=a.map(([p])=>p);else{const p=[];h=a.map(([u,,g])=>{let E=p.indexOf(g);return E===-1&&(p.push(g),E=p.length-1),[u,E]}).sort((u,g)=>u[1]-g[1]).map(([u])=>u)}h.forEach(p=>{s[0]=s[0].replaceAll(p,"")}),s[0]=s[0].replace(/(?=<\/head>)/,h.join(""))}},Ve=(e,t,r)=>B(new q(e,r,Ge(t??[])).toString()),Ze=(e,t,r,n)=>{if("itemProp"in r)return Ve(e,t,r);let{precedence:s,blocking:i,...o}=r;s=n?s??"":void 0,n&&(o[tt]=s);const a=new q(e,o,Ge(t||[])).toString();return a instanceof Promise?a.then(l=>B(a,[...l.callbacks||[],Kt(e,l,o,s)])):B(a,[Kt(e,a,o,s)])},_n=({children:e,...t})=>{const r=It();if(r){const n=xe(r);if(n==="svg"||n==="head")return new q("title",t,Ge(e??[]))}return Ze("title",e,t,!1)},jn=({children:e,...t})=>{const r=It();return["src","async"].some(n=>!t[n])||r&&xe(r)==="head"?Ve("script",e,t):Ze("script",e,t,!1)},kn=({children:e,...t})=>["href","precedence"].every(r=>r in t)?(t["data-href"]=t.href,delete t.href,Ze("style",e,t,!0)):Ve("style",e,t),On=({children:e,...t})=>["onLoad","onError"].some(r=>r in t)||t.rel==="stylesheet"&&(!("precedence"in t)||"disabled"in t)?Ve("link",e,t):Ze("link",e,t,"precedence"in t),Rn=({children:e,...t})=>{const r=It();return r&&xe(r)==="head"?Ve("meta",e,t):Ze("meta",e,t,!1)},Nr=(e,{children:t,...r})=>new q(e,r,Ge(t??[])),Nn=e=>(typeof e.action=="function"&&(e.action=ct in e.action?e.action[ct]:void 0),Nr("form",e)),Ar=(e,t)=>(typeof t.formAction=="function"&&(t.formAction=ct in t.formAction?t.formAction[ct]:void 0),Nr(e,t)),An=e=>Ar("input",e),Sn=e=>Ar("button",e);const pt=Object.freeze(Object.defineProperty({__proto__:null,button:Sn,form:Nn,input:An,link:On,meta:Rn,script:jn,style:kn,title:_n},Symbol.toStringTag,{value:"Module"}));var Pn=new Map([["className","class"],["htmlFor","for"],["crossOrigin","crossorigin"],["httpEquiv","http-equiv"],["itemProp","itemprop"],["fetchPriority","fetchpriority"],["noModule","nomodule"],["formAction","formaction"]]),ft=e=>Pn.get(e)||e,Sr=(e,t)=>{for(const[r,n]of Object.entries(e)){const s=r[0]==="-"||!/[A-Z]/.test(r)?r:r.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`);t(s,n==null?null:typeof n=="number"?s.match(/^(?:a|border-im|column(?:-c|s)|flex(?:$|-[^b])|grid-(?:ar|[^a])|font-w|li|or|sca|st|ta|wido|z)|ty$/)?`${n}`:`${n}px`:n)}},Be=void 0,It=()=>Be,Cn=e=>/[A-Z]/.test(e)&&e.match(/^(?:al|basel|clip(?:Path|Rule)$|co|do|fill|fl|fo|gl|let|lig|i|marker[EMS]|o|pai|pointe|sh|st[or]|text[^L]|tr|u|ve|w)/)?e.replace(/([A-Z])/g,"-$1").toLowerCase():e,Tn=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],$n=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","download","formnovalidate","hidden","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],Bt=(e,t)=>{for(let r=0,n=e.length;r<n;r++){const s=e[r];if(typeof s=="string")fe(s,t);else{if(typeof s=="boolean"||s===null||s===void 0)continue;s instanceof q?s.toStringToBuffer(t):typeof s=="number"||s.isEscaped?t[0]+=s:s instanceof Promise?t.unshift("",s):Bt(s,t)}}},q=class{constructor(e,t,r){w(this,"tag");w(this,"props");w(this,"key");w(this,"children");w(this,"isEscaped",!0);w(this,"localContexts");this.tag=e,this.props=t,this.children=r}get type(){return this.tag}get ref(){return this.props.ref||null}toString(){var t,r;const e=[""];(t=this.localContexts)==null||t.forEach(([n,s])=>{n.values.push(s)});try{this.toStringToBuffer(e)}finally{(r=this.localContexts)==null||r.forEach(([n])=>{n.values.pop()})}return e.length===1?"callbacks"in e?_r(B(e[0],e.callbacks)).toString():e[0]:xr(e,e.callbacks)}toStringToBuffer(e){const t=this.tag,r=this.props;let{children:n}=this;e[0]+=`<${t}`;const s=Be&&xe(Be)==="svg"?i=>Cn(ft(i)):i=>ft(i);for(let[i,o]of Object.entries(r))if(i=s(i),i!=="children"){if(i==="style"&&typeof o=="object"){let a="";Sr(o,(l,d)=>{d!=null&&(a+=`${a?";":""}${l}:${d}`)}),e[0]+=' style="',fe(a,e),e[0]+='"'}else if(typeof o=="string")e[0]+=` ${i}="`,fe(o,e),e[0]+='"';else if(o!=null)if(typeof o=="number"||o.isEscaped)e[0]+=` ${i}="${o}"`;else if(typeof o=="boolean"&&$n.includes(i))o&&(e[0]+=` ${i}=""`);else if(i==="dangerouslySetInnerHTML"){if(n.length>0)throw"Can only set one of `children` or `props.dangerouslySetInnerHTML`.";n=[B(o.__html)]}else if(o instanceof Promise)e[0]+=` ${i}="`,e.unshift('"',o);else if(typeof o=="function"){if(!i.startsWith("on"))throw`Invalid prop '${i}' of type 'function' supplied to '${t}'.`}else e[0]+=` ${i}="`,fe(o.toString(),e),e[0]+='"'}if(Tn.includes(t)&&n.length===0){e[0]+="/>";return}e[0]+=">",Bt(n,e),e[0]+=`</${t}>`}},mt=class extends q{toStringToBuffer(e){const{children:t}=this,r=this.tag.call(null,{...this.props,children:t.length<=1?t[0]:t});if(!(typeof r=="boolean"||r==null))if(r instanceof Promise)if(Se.length===0)e.unshift("",r);else{const n=Se.map(s=>[s,s.values.at(-1)]);e.unshift("",r.then(s=>(s instanceof q&&(s.localContexts=n),s)))}else r instanceof q?r.toStringToBuffer(e):typeof r=="number"||r.isEscaped?(e[0]+=r,r.callbacks&&(e.callbacks||(e.callbacks=[]),e.callbacks.push(...r.callbacks))):fe(r,e)}},Pr=class extends q{toStringToBuffer(e){Bt(this.children,e)}},At=(e,t,...r)=>{t??(t={}),r.length&&(t.children=r.length===1?r[0]:r);const n=t.key;delete t.key;const s=rt(e,t,r);return s.key=n,s},Xt=!1,rt=(e,t,r)=>{if(!Xt){for(const n in Nt)pt[n][Dt]=Nt[n];Xt=!0}return typeof e=="function"?new mt(e,t,r):pt[e]?new mt(pt[e],t,r):e==="svg"||e==="head"?(Be||(Be=Lt("")),new q(e,t,[new mt(Be,{value:e},r)])):new q(e,t,r)},Te=({children:e})=>new Pr("",{children:e},Array.isArray(e)?e:e?[e]:[]),Mn=e=>!!(e&&typeof e=="object"&&"tag"in e&&"props"in e);function c(e,t,r){let n;if(!t||!("children"in t))n=rt(e,t,[]);else{const s=t.children;n=Array.isArray(s)?rt(e,t,s):rt(e,t,[s])}return n.key=r,n}var Fe="_hp",Dn={Change:"Input",DoubleClick:"DblClick"},Ln={svg:"2000/svg",math:"1998/Math/MathML"},He=[],St=new WeakMap,Pe=void 0,In=()=>Pe,G=e=>"t"in e,gt={onClick:["click",!1]},Gt=e=>{if(!e.startsWith("on"))return;if(gt[e])return gt[e];const t=e.match(/^on([A-Z][a-zA-Z]+?(?:PointerCapture)?)(Capture)?$/);if(t){const[,r,n]=t;return gt[e]=[(Dn[r]||r).toLowerCase(),!!n]}},Vt=(e,t)=>Pe&&e instanceof SVGElement&&/[A-Z]/.test(t)&&(t in e.style||t.match(/^(?:o|pai|str|u|ve)/))?t.replace(/([A-Z])/g,"-$1").toLowerCase():t,Bn=(e,t,r)=>{var n;t||(t={});for(let s in t){const i=t[s];if(s!=="children"&&(!r||r[s]!==i)){s=ft(s);const o=Gt(s);if(o){if((r==null?void 0:r[s])!==i&&(r&&e.removeEventListener(o[0],r[s],o[1]),i!=null)){if(typeof i!="function")throw new Error(`Event handler for "${s}" is not a function`);e.addEventListener(o[0],i,o[1])}}else if(s==="dangerouslySetInnerHTML"&&i)e.innerHTML=i.__html;else if(s==="ref"){let a;typeof i=="function"?a=i(e)||(()=>i(null)):i&&"current"in i&&(i.current=e,a=()=>i.current=null),St.set(e,a)}else if(s==="style"){const a=e.style;typeof i=="string"?a.cssText=i:(a.cssText="",i!=null&&Sr(i,a.setProperty.bind(a)))}else{if(s==="value"){const l=e.nodeName;if(l==="INPUT"||l==="TEXTAREA"||l==="SELECT"){if(e.value=i==null||i===!1?null:i,l==="TEXTAREA"){e.textContent=i;continue}else if(l==="SELECT"){e.selectedIndex===-1&&(e.selectedIndex=0);continue}}}else(s==="checked"&&e.nodeName==="INPUT"||s==="selected"&&e.nodeName==="OPTION")&&(e[s]=i);const a=Vt(e,s);i==null||i===!1?e.removeAttribute(a):i===!0?e.setAttribute(a,""):typeof i=="string"||typeof i=="number"?e.setAttribute(a,i):e.setAttribute(a,i.toString())}}}if(r)for(let s in r){const i=r[s];if(s!=="children"&&!(s in t)){s=ft(s);const o=Gt(s);o?e.removeEventListener(o[0],i,o[1]):s==="ref"?(n=St.get(e))==null||n():e.removeAttribute(Vt(e,s))}}},Fn=(e,t)=>{t[A][0]=0,He.push([e,t]);const r=t.tag[Dt]||t.tag,n=r.defaultProps?{...r.defaultProps,...t.props}:t.props;try{return[r.call(null,n)]}finally{He.pop()}},Cr=(e,t,r,n,s)=>{var i,o;(i=e.vR)!=null&&i.length&&(n.push(...e.vR),delete e.vR),typeof e.tag=="function"&&((o=e[A][1][Dr])==null||o.forEach(a=>s.push(a))),e.vC.forEach(a=>{var l;if(G(a))r.push(a);else if(typeof a.tag=="function"||a.tag===""){a.c=t;const d=r.length;if(Cr(a,t,r,n,s),a.s){for(let h=d;h<r.length;h++)r[h].s=!0;a.s=!1}}else r.push(a),(l=a.vR)!=null&&l.length&&(n.push(...a.vR),delete a.vR)})},Hn=e=>{for(;;e=e.tag===Fe||!e.vC||!e.pP?e.nN:e.vC[0]){if(!e)return null;if(e.tag!==Fe&&e.e)return e.e}},Tr=e=>{var t,r,n,s,i,o;G(e)||((r=(t=e[A])==null?void 0:t[1][Dr])==null||r.forEach(a=>{var l;return(l=a[2])==null?void 0:l.call(a)}),(n=St.get(e.e))==null||n(),e.p===2&&((s=e.vC)==null||s.forEach(a=>a.p=2)),(i=e.vC)==null||i.forEach(Tr)),e.p||((o=e.e)==null||o.remove(),delete e.e),typeof e.tag=="function"&&(Me.delete(e),nt.delete(e),delete e[A][3],e.a=!0)},$r=(e,t,r)=>{e.c=t,Mr(e,t,r)},Zt=(e,t)=>{if(t){for(let r=0,n=e.length;r<n;r++)if(e[r]===t)return r}},Jt=Symbol(),Mr=(e,t,r)=>{var d;const n=[],s=[],i=[];Cr(e,t,n,s,i),s.forEach(Tr);const o=r?void 0:t.childNodes;let a,l=null;if(r)a=-1;else if(!o.length)a=0;else{const h=Zt(o,Hn(e.nN));h!==void 0?(l=o[h],a=h):a=Zt(o,(d=n.find(p=>p.tag!==Fe&&p.e))==null?void 0:d.e)??-1,a===-1&&(r=!0)}for(let h=0,p=n.length;h<p;h++,a++){const u=n[h];let g;if(u.s&&u.e)g=u.e,u.s=!1;else{const E=r||!u.e;G(u)?(u.e&&u.d&&(u.e.textContent=u.t),u.d=!1,g=u.e||(u.e=document.createTextNode(u.t))):(g=u.e||(u.e=u.n?document.createElementNS(u.n,u.tag):document.createElement(u.tag)),Bn(g,u.props,u.pP),Mr(u,g,E))}u.tag===Fe?a--:r?g.parentNode||t.appendChild(g):o[a]!==g&&o[a-1]!==g&&(o[a+1]===g?t.appendChild(o[a]):t.insertBefore(g,l||o[a]||null))}if(e.pP&&delete e.pP,i.length){const h=[],p=[];i.forEach(([,u,,g,E])=>{u&&h.push(u),g&&p.push(g),E==null||E()}),h.forEach(u=>u()),p.length&&requestAnimationFrame(()=>{p.forEach(u=>u())})}},Un=(e,t)=>!!(e&&e.length===t.length&&e.every((r,n)=>r[1]===t[n][1])),nt=new WeakMap,Pt=(e,t,r)=>{var i,o,a,l,d,h;const n=!r&&t.pC;r&&(t.pC||(t.pC=t.vC));let s;try{r||(r=typeof t.tag=="function"?Fn(e,t):Ge(t.props.children)),((i=r[0])==null?void 0:i.tag)===""&&r[0][Rt]&&(s=r[0][Rt],e[5].push([e,s,t]));const p=n?[...t.pC]:t.vC?[...t.vC]:void 0,u=[];let g;for(let E=0;E<r.length;E++){Array.isArray(r[E])&&r.splice(E,1,...r[E].flat());let m=zn(r[E]);if(m){typeof m.tag=="function"&&!m.tag[kr]&&(Se.length>0&&(m[A][2]=Se.map(b=>[b,b.values.at(-1)])),(o=e[5])!=null&&o.length&&(m[A][3]=e[5].at(-1)));let y;if(p&&p.length){const b=p.findIndex(G(m)?x=>G(x):m.key!==void 0?x=>x.key===m.key&&x.tag===m.tag:x=>x.tag===m.tag);b!==-1&&(y=p[b],p.splice(b,1))}if(y)if(G(m))y.t!==m.t&&(y.t=m.t,y.d=!0),m=y;else{const b=y.pP=y.props;if(y.props=m.props,y.f||(y.f=m.f||t.f),typeof m.tag=="function"){const x=y[A][2];y[A][2]=m[A][2]||[],y[A][3]=m[A][3],!y.f&&((y.o||y)===m.o||(l=(a=y.tag)[xn])!=null&&l.call(a,b,y.props))&&Un(x,y[A][2])&&(y.s=!0)}m=y}else if(!G(m)&&Pe){const b=xe(Pe);b&&(m.n=b)}if(!G(m)&&!m.s&&(Pt(e,m),delete m.f),u.push(m),g&&!g.s&&!m.s)for(let b=g;b&&!G(b);b=(d=b.vC)==null?void 0:d.at(-1))b.nN=m;g=m}}t.vR=n?[...t.vC,...p||[]]:p||[],t.vC=u,n&&delete t.pC}catch(p){if(t.f=!0,p===Jt){if(s)return;throw p}const[u,g,E]=((h=t[A])==null?void 0:h[3])||[];if(g){const m=()=>st([0,!1,e[2]],E),y=nt.get(E)||[];y.push(m),nt.set(E,y);const b=g(p,()=>{const x=nt.get(E);if(x){const _=x.indexOf(m);if(_!==-1)return x.splice(_,1),m()}});if(b){if(e[0]===1)e[1]=!0;else if(Pt(e,E,[b]),(g.length===1||e!==u)&&E.c){$r(E,E.c,!1);return}throw Jt}}throw p}finally{s&&e[5].pop()}},zn=e=>{if(!(e==null||typeof e=="boolean")){if(typeof e=="string"||typeof e=="number")return{t:e.toString(),d:!0};if("vR"in e&&(e={tag:e.tag,props:e.props,key:e.key,f:e.f,type:e.tag,ref:e.props.ref,o:e.o||e}),typeof e.tag=="function")e[A]=[0,[]];else{const t=Ln[e.tag];t&&(Pe||(Pe=Rr("")),e.props.children=[{tag:Pe,props:{value:e.n=`http://www.w3.org/${t}`,children:e.props.children}}])}return e}},Qt=(e,t)=>{var r,n;(r=t[A][2])==null||r.forEach(([s,i])=>{s.values.push(i)});try{Pt(e,t,void 0)}catch{return}if(t.a){delete t.a;return}(n=t[A][2])==null||n.forEach(([s])=>{s.values.pop()}),(e[0]!==1||!e[1])&&$r(t,t.c,!1)},Me=new WeakMap,Yt=[],st=async(e,t)=>{e[5]||(e[5]=[]);const r=Me.get(t);r&&r[0](void 0);let n;const s=new Promise(i=>n=i);if(Me.set(t,[n,()=>{e[2]?e[2](e,t,i=>{Qt(i,t)}).then(()=>n(t)):(Qt(e,t),n(t))}]),Yt.length)Yt.at(-1).add(t);else{await Promise.resolve();const i=Me.get(t);i&&(Me.delete(t),i[1]())}return s},Wn=(e,t,r)=>({tag:Fe,props:{children:e},key:r,e:t,p:1}),vt=0,Dr=1,yt=2,bt=3,wt=new WeakMap,Lr=(e,t)=>!e||!t||e.length!==t.length||t.some((r,n)=>r!==e[n]),qn=void 0,er=[],Kn=e=>{var o;const t=()=>typeof e=="function"?e():e,r=He.at(-1);if(!r)return[t(),()=>{}];const[,n]=r,s=(o=n[A][1])[vt]||(o[vt]=[]),i=n[A][0]++;return s[i]||(s[i]=[t(),a=>{const l=qn,d=s[i];if(typeof a=="function"&&(a=a(d[0])),!Object.is(a,d[0]))if(d[0]=a,er.length){const[h,p]=er.at(-1);Promise.all([h===3?n:st([h,!1,l],n),p]).then(([u])=>{if(!u||!(h===2||h===3))return;const g=u.vC;requestAnimationFrame(()=>{setTimeout(()=>{g===u.vC&&st([h===3?1:0,!1,l],u)})})})}else st([0,!1,l],n)}])},Ft=(e,t)=>{var a;const r=He.at(-1);if(!r)return e;const[,n]=r,s=(a=n[A][1])[yt]||(a[yt]=[]),i=n[A][0]++,o=s[i];return Lr(o==null?void 0:o[1],t)?s[i]=[e,t]:e=s[i][0],e},Xn=e=>{const t=wt.get(e);if(t){if(t.length===2)throw t[1];return t[0]}throw e.then(r=>wt.set(e,[r]),r=>wt.set(e,[void 0,r])),e},Gn=(e,t)=>{var a;const r=He.at(-1);if(!r)return e();const[,n]=r,s=(a=n[A][1])[bt]||(a[bt]=[]),i=n[A][0]++,o=s[i];return Lr(o==null?void 0:o[1],t)&&(s[i]=[e(),t]),s[i][0]},Vn=Rr({pending:!1,data:null,method:null,action:null}),tr=new Set,Zn=e=>{tr.add(e),e.finally(()=>tr.delete(e))},Ht=(e,t)=>Gn(()=>r=>{let n;e&&(typeof e=="function"?n=e(r)||(()=>{e(null)}):e&&"current"in e&&(e.current=r,n=()=>{e.current=null}));const s=t(r);return()=>{s==null||s(),n==null||n()}},[e]),_e=Object.create(null),Qe=Object.create(null),Je=(e,t,r,n,s)=>{if(t!=null&&t.itemProp)return{tag:e,props:t,type:e,ref:t.ref};const i=document.head;let{onLoad:o,onError:a,precedence:l,blocking:d,...h}=t,p=null,u=!1;const g=et[e];let E;if(g.length>0){const x=i.querySelectorAll(e);e:for(const _ of x)for(const k of et[e])if(_.getAttribute(k)===t[k]){p=_;break e}if(!p){const _=g.reduce((k,R)=>t[R]===void 0?k:`${k}-${R}-${t[R]}`,e);u=!Qe[_],p=Qe[_]||(Qe[_]=(()=>{const k=document.createElement(e);for(const R of g)t[R]!==void 0&&k.setAttribute(R,t[R]),t.rel&&k.setAttribute("rel",t.rel);return k})())}}else E=i.querySelectorAll(e);l=n?l??"":void 0,n&&(h[tt]=l);const m=Ft(x=>{if(g.length>0){let _=!1;for(const k of i.querySelectorAll(e)){if(_&&k.getAttribute(tt)!==l){i.insertBefore(x,k);return}k.getAttribute(tt)===l&&(_=!0)}i.appendChild(x)}else if(E){let _=!1;for(const k of E)if(k===x){_=!0;break}_||i.insertBefore(x,i.contains(E[0])?E[0]:i.querySelector(e)),E=void 0}},[l]),y=Ht(t.ref,x=>{var R;const _=g[0];if(r===2&&(x.innerHTML=""),(u||E)&&m(x),!a&&!o)return;let k=_e[R=x.getAttribute(_)]||(_e[R]=new Promise((F,X)=>{x.addEventListener("load",F),x.addEventListener("error",X)}));o&&(k=k.then(o)),a&&(k=k.catch(a)),k.catch(()=>{})});if(s&&d==="render"){const x=et[e][0];if(t[x]){const _=t[x],k=_e[_]||(_e[_]=new Promise((R,F)=>{m(p),p.addEventListener("load",R),p.addEventListener("error",F)}));Xn(k)}}const b={tag:e,type:e,props:{...h,ref:y},ref:y};return b.p=r,p&&(b.e=p),Wn(b,i)},Jn=e=>{const t=In(),r=t&&xe(t);return r!=null&&r.endsWith("svg")?{tag:"title",props:e,type:"title",ref:e.ref}:Je("title",e,void 0,!1,!1)},Qn=e=>!e||["src","async"].some(t=>!e[t])?{tag:"script",props:e,type:"script",ref:e.ref}:Je("script",e,1,!1,!0),Yn=e=>!e||!["href","precedence"].every(t=>t in e)?{tag:"style",props:e,type:"style",ref:e.ref}:(e["data-href"]=e.href,delete e.href,Je("style",e,2,!0,!0)),es=e=>!e||["onLoad","onError"].some(t=>t in e)||e.rel==="stylesheet"&&(!("precedence"in e)||"disabled"in e)?{tag:"link",props:e,type:"link",ref:e.ref}:Je("link",e,1,"precedence"in e,!0),ts=e=>Je("meta",e,void 0,!1,!1),Ir=Symbol(),rs=e=>{const{action:t,...r}=e;typeof t!="function"&&(r.action=t);const[n,s]=Kn([null,!1]),i=Ft(async d=>{const h=d.isTrusted?t:d.detail[Ir];if(typeof h!="function")return;d.preventDefault();const p=new FormData(d.target);s([p,!0]);const u=h(p);u instanceof Promise&&(Zn(u),await u),s([null,!0])},[]),o=Ht(e.ref,d=>(d.addEventListener("submit",i),()=>{d.removeEventListener("submit",i)})),[a,l]=n;return n[1]=!1,{tag:Vn,props:{value:{pending:a!==null,data:a,method:a?"post":null,action:a?t:null},children:{tag:"form",props:{...r,ref:o},type:"form",ref:o}},f:l}},Br=(e,{formAction:t,...r})=>{if(typeof t=="function"){const n=Ft(s=>{s.preventDefault(),s.currentTarget.form.dispatchEvent(new CustomEvent("submit",{detail:{[Ir]:t}}))},[]);r.ref=Ht(r.ref,s=>(s.addEventListener("click",n),()=>{s.removeEventListener("click",n)}))}return{tag:e,props:r,type:e,ref:r.ref}},ns=e=>Br("input",e),ss=e=>Br("button",e);Object.assign(Nt,{title:Jn,script:Qn,style:Yn,link:es,meta:ts,form:rs,input:ns,button:ss});new TextEncoder;var is=Lt(null),os=(e,t,r,n)=>(s,i)=>{const o="<!DOCTYPE html>",a=r?At(d=>r(d,e),{Layout:t,...i},s):s,l=En`${B(o)}${At(is.Provider,{value:e},a)}`;return e.html(l)},Fr=(e,t)=>function(n,s){const i=n.getLayout()??Te;return e&&n.setLayout(o=>e({...o,Layout:i},n)),n.setRenderer(os(n,i,e)),s()};const Et={X:"https://twitter.com/3kz_z5ol",GITHUB:"https://github.com/3kz2501",TWITCH:"https://www.twitch.tv/3kz_z5ol"},as=Fr(({children:e,title:t,description:r})=>{const n=t??"3kz Blog";return c("html",{lang:"en",children:[c("head",{children:[c("meta",{charset:"utf-8"}),c("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),c("title",{children:n}),c("meta",{property:"og:title",content:n}),c("meta",{property:"og:description",content:r??"3kz Blog: いろいろ書き残し"}),c("meta",{property:"og:image",content:"/static/profile-image.png"}),c(hi,{src:"/app/client.ts"}),c("link",{href:"/static/assets/style.css",rel:"stylesheet"}),c("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/vs2015.css"}),c("link",{rel:"preload",href:"/fonts/PleckJP/PleckJP.woff2",as:"font",type:"font/woff2",crossorigin:!0}),c("style",{children:`
            body {
              font-family: 'PleckJP', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            }
          `})]}),c("body",{class:"main-container",children:[c("header",{class:"bg-black border-b border-jade-dark",children:c("div",{class:"max-w-screen-2xl mx-auto flex h-14 items-center px-6",children:[c("div",{class:"w-1/3"}),c("div",{class:"w-1/3 flex justify-center",children:c("a",{href:"/",class:"text-jade font-bold",children:"3kz Blog"})}),c("div",{class:"flex items-center gap-3 w-1/3 justify-end",children:[c("a",{href:Et.X,target:"_blank",rel:"noreferrer",class:"p-1",children:c("img",{src:"/static/twitter-alt.svg",alt:"x-icon",class:"w-6 h-6"})}),c("a",{href:Et.GITHUB,target:"_blank",rel:"noreferrer",class:"p-1",children:c("img",{src:"/static/github.svg",alt:"github-icon",class:"w-6 h-6"})}),c("a",{href:Et.TWITCH,target:"_blank",rel:"noreferrer",class:"p-1",children:c("img",{src:"/static/twitch.svg",alt:"twitch-icon",class:"w-6 h-6"})})]})]})}),c("main",{class:"w-full px-4 lg:max-w-4xl lg:px-0 mx-auto",children:e}),c("footer",{class:"mt-10 text-center py-4 border-t border-jade-dark",children:c("p",{children:"© 2025 3kz blog. All rights reserved."})})]})]})}),ls=Object.freeze(Object.defineProperty({__proto__:null,default:as},Symbol.toStringTag,{value:"Module"})),cs="component-name",fs="component-export",ds="data-serialized-props",hs="data-hono-template",de="__importing_islands",Ct=Symbol(),Tt=Symbol(),xt=Lt({[Ct]:!1,[Tt]:!1}),Hr=e=>Array.isArray(e)?e.some(Hr):typeof e=="object"&&Mn(e),us=({componentName:e,componentExport:t,Component:r,props:n})=>{const s={},i={};for(const a in n){const l=n[a];Hr(l)?s[a]=l:i[a]=l}const o=xe(xt);return o[Tt]||!o[Ct]?c("honox-island",{[cs]:e,[fs]:t||void 0,[ds]:JSON.stringify(i),children:[c(xt.Provider,{value:{...o,[Ct]:!0},children:c(r,{...n})}),Object.entries(s).map(([a,l])=>At("template",{[hs]:a,key:a},c(xt.Provider,{value:{...o,[Tt]:!0},children:l})))]}):c(r,{...n})},ps=({title:e})=>typeof window>"u"?c("div",{class:"flex items-center justify-center mt-10 gap-3",children:c("div",{role:"status",class:"max-w-sm animate-pulse w-full",children:c("div",{class:"h-11 bg-gray-800 rounded-3xl w-full"})})}):c("div",{class:"flex items-center justify-center mt-10 gap-3",children:c("a",{href:`https://twitter.com/share?text=${encodeURI(e)}&url=${window.location.href}`,target:"_blank",rel:"noreferrer",class:"bg-[#0f1419] text-jade-light flex items-center text-sm rounded-3xl py-3 px-4 border border-jade-dark",children:[c("img",{src:"/static/twitter-alt.svg",alt:"xにシェアする",class:"w-4 h-4 mr-1"}),"Post"]})}),ms=function(e){return c(us,{componentName:"/app/islands/ShareButton.tsx",Component:ps,props:e})},gs=Fr(({children:e,Layout:t,frontmatter:r})=>{const n=`${r==null?void 0:r.title} | 3kz Blog`;return c(t,{title:n,description:r==null?void 0:r.description,children:[c("div",{class:"markdown",children:e}),c(ms,{title:n})]})}),vs=!0,ys=Object.freeze(Object.defineProperty({__proto__:null,__importing_islands:vs,default:gs},Symbol.toStringTag,{value:"Module"})),bs={title:"今年中に読んでおきたい本",description:"books",date:"2023/09/25",published:!0};function rr(e){const t={h2:"h2",li:"li",p:"p",ul:"ul",...e.components};return c(Te,{children:[c(t.h2,{children:"目的"}),`
`,c(t.ul,{children:[`
`,c(t.li,{children:"今年中に手を出しておきたい本をメモ代わりに載せる"}),`
`]}),`
`,c(t.h2,{children:"リスト"}),`
`,c("div",{className:"my-6 border border-jade-dark rounded-lg overflow-hidden bg-black",children:c("div",{className:"flex flex-col md:flex-row",children:[c("div",{className:"md:w-1/3 p-4",children:c("a",{href:"https://www.lambdanote.com/collections/ir-system/products/ir-system",target:"_blank",rel:"noreferrer",children:c("img",{src:"https://www.lambdanote.com/cdn/shop/products/book-1_5db44c4f-fb10-49e4-bf40-70317da3ca4b_530x.png",alt:"検索システム ― 実務者のための開発改善ガイドブック",className:"w-full h-auto object-cover rounded-md"})})}),c("div",{className:"md:w-2/3 p-4",children:[c("a",{href:"https://www.lambdanote.com/collections/ir-system/products/ir-system",target:"_blank",rel:"noreferrer",className:"text-jade-light text-xl font-bold underline mb-2 block",children:c(t.p,{children:"検索システム ― 実務者のための開発改善ガイドブック"})}),c("div",{className:"text-jade mt-2",children:c(t.p,{children:"検索システムに関して全く興味なかったけど結構使い所とか多く,知識としてほしくなったため読んでみたい. またクエリ毎にLN で課金するシンプルでフラットな検索エンジンを作れないかと考えているため読んでみたい"})})]})]})}),`
`,c("div",{className:"my-6 border border-jade-dark rounded-lg overflow-hidden bg-black",children:c("div",{className:"flex flex-col md:flex-row",children:[c("div",{className:"md:w-1/3 p-4",children:c("a",{href:"https://www.amazon.co.jp/dp/B00NUZ32MU/?coliid=I30NC6M46RY93A&colid=3TUQQS7SAZHPR&psc=0&ref_=list_c_wl_lv_ov_lig_dp_it",target:"_blank",rel:"noreferrer",children:c("img",{src:"https://m.media-amazon.com/images/I/71K8AyAJbiL._SL1500_.jpg",alt:"検索エンジン自作入門～手を動かしながら見渡す検索の舞台裏",className:"w-full h-auto object-cover rounded-md"})})}),c("div",{className:"md:w-2/3 p-4",children:[c("a",{href:"https://www.amazon.co.jp/dp/B00NUZ32MU/?coliid=I30NC6M46RY93A&colid=3TUQQS7SAZHPR&psc=0&ref_=list_c_wl_lv_ov_lig_dp_it",target:"_blank",rel:"noreferrer",className:"text-jade-light text-xl font-bold underline mb-2 block",children:c(t.p,{children:"検索エンジン自作入門～手を動かしながら見渡す検索の舞台裏"})}),c("div",{className:"text-jade mt-2",children:c(t.p,{children:"こちらも検索系. エンジン自体を手を動かしながら学べるらしい. 1. 読んでからのほうがいい気もしている"})})]})]})}),`
`,c("div",{className:"my-6 border border-jade-dark rounded-lg overflow-hidden bg-black",children:c("div",{className:"flex flex-col md:flex-row",children:[c("div",{className:"md:w-1/3 p-4",children:c("a",{href:"https://www.lambdanote.com/collections/cpu/products/cpu",target:"_blank",rel:"noreferrer",children:c("img",{src:"https://www.lambdanote.com/cdn/shop/products/blog-cover_530x.png?v=1674602946",alt:"プログラマーのためのCPU入門 ― CPUは如何にしてソフトウェアを高速に実行するか",className:"w-full h-auto object-cover rounded-md"})})}),c("div",{className:"md:w-2/3 p-4",children:[c("a",{href:"https://www.lambdanote.com/collections/cpu/products/cpu",target:"_blank",rel:"noreferrer",className:"text-jade-light text-xl font-bold underline mb-2 block",children:c(t.p,{children:"プログラマーのためのCPU入門 ― CPUは如何にしてソフトウェアを高速に実行するか"})}),c("div",{className:"text-jade mt-2",children:c(t.p,{children:"CPU 本とかコンピュータアーキの本は多いけどハードウェアの話がメイン?というかそちらにも手を出す人向けなのが多い印象でよみたいけどハードル高そうだなって感じててよんでなかったけどこれならソフトウェア文脈で読めそうなので気になっている"})})]})]})}),`
`,c(t.p,{children:"こっから先は積んでるやつ"}),`
`,c("div",{className:"my-6 border border-jade-dark rounded-lg overflow-hidden bg-black",children:c("div",{className:"flex flex-col md:flex-row",children:[c("div",{className:"md:w-1/3 p-4",children:c("a",{href:"https://www.amazon.co.jp/gp/product/4798110663/ref=ppx_yo_dt_b_asin_image_o00_s00?ie=UTF8&psc=1",target:"_blank",rel:"noreferrer",children:c("img",{src:"https://m.media-amazon.com/images/I/71W9vZMHn+L._SL1500_.jpg",alt:"楽々ERDレッスン",className:"w-full h-auto object-cover rounded-md"})})}),c("div",{className:"md:w-2/3 p-4",children:[c("a",{href:"https://www.amazon.co.jp/gp/product/4798110663/ref=ppx_yo_dt_b_asin_image_o00_s00?ie=UTF8&psc=1",target:"_blank",rel:"noreferrer",className:"text-jade-light text-xl font-bold underline mb-2 block",children:c(t.p,{children:"楽々ERDレッスン"})}),c("div",{className:"text-jade mt-2",children:c(t.p,{children:"DB のテーブル設計をしっかりと勉強したいなぁと思っていたところ副業先で教えてもらった本.なかなかいいらしい.難点は物理本しか存在してないのでKindle とか電子で持てないところ..."})})]})]})}),`
`,c("div",{className:"my-6 border border-jade-dark rounded-lg overflow-hidden bg-black",children:c("div",{className:"flex flex-col md:flex-row",children:[c("div",{className:"md:w-1/3 p-4",children:c("a",{href:"https://www.oreilly.co.jp/books/9784814400140/",target:"_blank",rel:"noreferrer",children:c("img",{src:"https://www.oreilly.co.jp/books/images/picture_large978-4-8144-0014-0.jpeg",alt:"マスタリング・ライトニングネットワーク",className:"w-full h-auto object-cover rounded-md"})})}),c("div",{className:"md:w-2/3 p-4",children:[c("a",{href:"https://www.oreilly.co.jp/books/9784814400140/",target:"_blank",rel:"noreferrer",className:"text-jade-light text-xl font-bold underline mb-2 block",children:c(t.p,{children:"マスタリング・ライトニングネットワーク"})}),c("div",{className:"text-jade mt-2",children:c(t.p,{children:"ライトニングネットワークの唯一まともそうな本. 一回読んでるけど理解しきれてないので再度読みたい."})})]})]})}),`
`,c("div",{className:"my-6 border border-jade-dark rounded-lg overflow-hidden bg-black",children:c("div",{className:"flex flex-col md:flex-row",children:[c("div",{className:"md:w-1/3 p-4",children:c("a",{href:"https://www.oreilly.co.jp/books/9784873119083/",target:"_blank",rel:"noreferrer",children:c("img",{src:"https://www.oreilly.co.jp/books/images/picture_large978-4-87311-908-3.jpeg",alt:"詳解 ビットコイン",className:"w-full h-auto object-cover rounded-md"})})}),c("div",{className:"md:w-2/3 p-4",children:[c("a",{href:"https://www.oreilly.co.jp/books/9784873119083/",target:"_blank",rel:"noreferrer",className:"text-jade-light text-xl font-bold underline mb-2 block",children:c(t.p,{children:"詳解 ビットコイン"})}),c("div",{className:"text-jade mt-2",children:c(t.p,{children:"マスタリングビットコインより読みやすいような読みにくいような.. どっちでもいいけど詳細を知るにはいい本なのでもう一度読んでおきたい."})})]})]})}),`
`,c("div",{className:"my-6 border border-jade-dark rounded-lg overflow-hidden bg-black",children:c("div",{className:"flex flex-col md:flex-row",children:[c("div",{className:"md:w-1/3 p-4",children:c("a",{href:"https://www.oreilly.co.jp/books/9784873119021/",target:"_blank",rel:"noreferrer",children:c("img",{src:"https://www.oreilly.co.jp/books/images/picture_large978-4-87311-902-1.jpeg",alt:"プログラミング･ビットコイン",className:"w-full h-auto object-cover rounded-md"})})}),c("div",{className:"md:w-2/3 p-4",children:[c("a",{href:"https://www.oreilly.co.jp/books/9784873119021/",target:"_blank",rel:"noreferrer",className:"text-jade-light text-xl font-bold underline mb-2 block",children:c(t.p,{children:"プログラミング･ビットコイン"})}),c("div",{className:"text-jade mt-2",children:c(t.p,{children:"Python でビットコインの実装を追う本. 個人的にはこれをRust で実装し直ししようとして一回挫折しているが,再度試してみたい. Rust だけであればrust-bitcoin の実装がすでにあるが自分でやるのが一番学習に向いてそうなのでいつかやりたい..(いつか)"})})]})]})}),`
`,c("div",{className:"my-6 border border-jade-dark rounded-lg overflow-hidden bg-black",children:c("div",{className:"flex flex-col md:flex-row",children:[c("div",{className:"md:w-1/3 p-4",children:c("a",{href:"https://www.amazon.co.jp/%E8%82%A9%E3%82%92%E3%81%99%E3%81%8F%E3%82%81%E3%82%8B%E3%82%A2%E3%83%88%E3%83%A9%E3%82%B9-%E7%AC%AC%E4%B8%80%E9%83%A8-%E3%82%A2%E3%82%A4%E3%83%B3%E3%83%BB%E3%83%A9%E3%83%B3%E3%83%89/dp/4908222010/ref=sr_1_1?crid=9A0BDGUBNWFJ&keywords=%E8%82%A9%E3%82%92%E3%81%99%E3%81%8F%E3%82%81%E3%82%8B%E3%82%A2%E3%83%88%E3%83%A9%E3%82%B9&qid=1695650136&s=books&sprefix=%E3%81%8B%E3%81%9F%E3%82%92%2Cstripbooks%2C153&sr=1-1",target:"_blank",rel:"noreferrer",children:c("img",{src:"https://m.media-amazon.com/images/I/61PDwjDV0WL._SL1257_.jpg",alt:"肩をすくめるアトラス",className:"w-full h-auto object-cover rounded-md"})})}),c("div",{className:"md:w-2/3 p-4",children:[c("a",{href:"https://www.amazon.co.jp/%E8%82%A9%E3%82%92%E3%81%99%E3%81%8F%E3%82%81%E3%82%8B%E3%82%A2%E3%83%88%E3%83%A9%E3%82%B9-%E7%AC%AC%E4%B8%80%E9%83%A8-%E3%82%A2%E3%82%A4%E3%83%B3%E3%83%BB%E3%83%A9%E3%83%B3%E3%83%89/dp/4908222010/ref=sr_1_1?crid=9A0BDGUBNWFJ&keywords=%E8%82%A9%E3%82%92%E3%81%99%E3%81%8F%E3%82%81%E3%82%8B%E3%82%A2%E3%83%88%E3%83%A9%E3%82%B9&qid=1695650136&s=books&sprefix=%E3%81%8B%E3%81%9F%E3%82%92%2Cstripbooks%2C153&sr=1-1",target:"_blank",rel:"noreferrer",className:"text-jade-light text-xl font-bold underline mb-2 block",children:c(t.p,{children:"肩をすくめるアトラス"})}),c("div",{className:"text-jade mt-2",children:c(t.p,{children:"ビットコイナーなら読んどけって言われているから読んでいるがとにかく分厚いし文字数も鬼. マージンとか全く取ってないレイアウト.更に三部作.. こちらも物理本しかないのが難点"})})]})]})}),`
`,c(t.p,{children:"最後だけ小説で技術本じゃないだけで基本的には技術本しか読まない.. もっといろんな本を読んだほうがいいんだろうなぁとも思うけど時間がもったいなく感じてしまうので技術本ばかりになる. もっとありそうだけどもう今年には無理だと思う"})]})}function ws(e={}){const{wrapper:t}=e.components||{};return t?c(t,{...e,children:c(rr,{...e})}):rr(e)}const Ur=Object.freeze(Object.defineProperty({__proto__:null,default:ws,frontmatter:bs},Symbol.toStringTag,{value:"Module"})),Es={title:"blog 引越し",description:"ブログ引っ越し",date:"2025/03/02",published:!0};function nr(e){const t={h1:"h1",h3:"h3",li:"li",ul:"ul",...e.components};return c(Te,{children:[c(t.h1,{children:"Hugo をやめてHono にした."}),`
`,c(t.ul,{children:[`
`,c(t.li,{children:"hugo を使っていたけどなんかコマンドなどが変わったのか追いかけるのが面倒くさくなったので,Hono をつかったテンプレートを作っていた方がいたのでそれをお借りした."}),`
`,c(t.li,{children:"気楽に上げられるように,また用途を絞らずに使おうと思ったのでTech をはずす予定.ただもちろん技術ネタがメインにはなると思っている."}),`
`,c(t.li,{children:"過去記事も一応持ってっこれるようにしたい."}),`
`,c(t.li,{children:"修正は基本全部AI にやらせて,前のブログみたいな色味にしている."}),`
`]}),`
`,c(t.h3,{children:"Claude すごいね. おわり"})]})}function xs(e={}){const{wrapper:t}=e.components||{};return t?c(t,{...e,children:c(nr,{...e})}):nr(e)}const zr=Object.freeze(Object.defineProperty({__proto__:null,default:xs,frontmatter:Es},Symbol.toStringTag,{value:"Module"}));function _s(){return c(Te,{children:c(js,{})})}const js=()=>{const t=Object.entries(Object.assign({"./posts/books_id_like_to_read.mdx":Ur,"./posts/transfer_blog_template.mdx":zr})).filter(([,r])=>r.frontmatter.published).sort(([,r],[,n])=>{const s=new Date(r.frontmatter.date);return new Date(n.frontmatter.date).getTime()-s.getTime()});return c("div",{class:"mt-16",children:c("ul",{class:"mt-10",children:t.map(([r,n])=>c("li",{class:"text-lg mt-2 md:mt-1",children:[c("span",{class:"tabular-nums tnum text-jade-dark",children:[n.frontmatter.date,":"," "]}),c("br",{class:"block md:hidden"}),c("a",{class:"text-jade underline",href:`${r.replace(/\.mdx$/,"")}`,children:n.frontmatter.title})]},r))})})},ks=Object.freeze(Object.defineProperty({__proto__:null,default:_s},Symbol.toStringTag,{value:"Module"}));var sr=(e,t,r)=>(n,s)=>{let i=-1;return o(0);async function o(a){if(a<=i)throw new Error("next() called multiple times");i=a;let l,d=!1,h;if(e[a]?(h=e[a][0][0],n.req.routeIndex=a):h=a===e.length&&s||void 0,h)try{l=await h(n,()=>o(a+1))}catch(p){if(p instanceof Error&&t)n.error=p,l=await t(p,n),d=!0;else throw p}else n.finalized===!1&&r&&(l=await r(n));return l&&(n.finalized===!1||d)&&(n.res=l),n}},Os=async(e,t=Object.create(null))=>{const{all:r=!1,dot:n=!1}=t,i=(e instanceof Zr?e.raw.headers:e.headers).get("Content-Type");return i!=null&&i.startsWith("multipart/form-data")||i!=null&&i.startsWith("application/x-www-form-urlencoded")?Rs(e,{all:r,dot:n}):{}};async function Rs(e,t){const r=await e.formData();return r?Ns(r,t):{}}function Ns(e,t){const r=Object.create(null);return e.forEach((n,s)=>{t.all||s.endsWith("[]")?As(r,s,n):r[s]=n}),t.dot&&Object.entries(r).forEach(([n,s])=>{n.includes(".")&&(Ss(r,n,s),delete r[n])}),r}var As=(e,t,r)=>{e[t]!==void 0?Array.isArray(e[t])?e[t].push(r):e[t]=[e[t],r]:e[t]=r},Ss=(e,t,r)=>{let n=e;const s=t.split(".");s.forEach((i,o)=>{o===s.length-1?n[i]=r:((!n[i]||typeof n[i]!="object"||Array.isArray(n[i])||n[i]instanceof File)&&(n[i]=Object.create(null)),n=n[i])})},Wr=e=>{const t=e.split("/");return t[0]===""&&t.shift(),t},Ps=e=>{const{groups:t,path:r}=Cs(e),n=Wr(r);return Ts(n,t)},Cs=e=>{const t=[];return e=e.replace(/\{[^}]+\}/g,(r,n)=>{const s=`@${n}`;return t.push([s,r]),s}),{groups:t,path:e}},Ts=(e,t)=>{for(let r=t.length-1;r>=0;r--){const[n]=t[r];for(let s=e.length-1;s>=0;s--)if(e[s].includes(n)){e[s]=e[s].replace(n,t[r][1]);break}}return e},Ye={},ir=(e,t)=>{if(e==="*")return"*";const r=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(r){const n=`${e}#${t}`;return Ye[n]||(r[2]?Ye[n]=t&&t[0]!==":"&&t[0]!=="*"?[n,r[1],new RegExp(`^${r[2]}(?=/${t})`)]:[e,r[1],new RegExp(`^${r[2]}$`)]:Ye[n]=[e,r[1],!0]),Ye[n]}return null},qr=(e,t)=>{try{return t(e)}catch{return e.replace(/(?:%[0-9A-Fa-f]{2})+/g,r=>{try{return t(r)}catch{return r}})}},$s=e=>qr(e,decodeURI),Kr=e=>{const t=e.url,r=t.indexOf("/",8);let n=r;for(;n<t.length;n++){const s=t.charCodeAt(n);if(s===37){const i=t.indexOf("?",n),o=t.slice(r,i===-1?void 0:i);return $s(o.includes("%25")?o.replace(/%25/g,"%2525"):o)}else if(s===63)break}return t.slice(r,n)},Ms=e=>{const t=Kr(e);return t.length>1&&t.at(-1)==="/"?t.slice(0,-1):t},ke=(e,t,...r)=>(r.length&&(t=ke(t,...r)),`${(e==null?void 0:e[0])==="/"?"":"/"}${e}${t==="/"?"":`${(e==null?void 0:e.at(-1))==="/"?"":"/"}${(t==null?void 0:t[0])==="/"?t.slice(1):t}`}`),Xr=e=>{if(!e.match(/\:.+\?$/))return null;const t=e.split("/"),r=[];let n="";return t.forEach(s=>{if(s!==""&&!/\:/.test(s))n+="/"+s;else if(/\:/.test(s))if(/\?/.test(s)){r.length===0&&n===""?r.push("/"):r.push(n);const i=s.replace("?","");n+="/"+i,r.push(n)}else n+="/"+s}),r.filter((s,i,o)=>o.indexOf(s)===i)},_t=e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),e.indexOf("%")!==-1?Vr(e):e):e,Gr=(e,t,r)=>{let n;if(!r&&t&&!/[%+]/.test(t)){let o=e.indexOf(`?${t}`,8);for(o===-1&&(o=e.indexOf(`&${t}`,8));o!==-1;){const a=e.charCodeAt(o+t.length+1);if(a===61){const l=o+t.length+2,d=e.indexOf("&",l);return _t(e.slice(l,d===-1?void 0:d))}else if(a==38||isNaN(a))return"";o=e.indexOf(`&${t}`,o+1)}if(n=/[%+]/.test(e),!n)return}const s={};n??(n=/[%+]/.test(e));let i=e.indexOf("?",8);for(;i!==-1;){const o=e.indexOf("&",i+1);let a=e.indexOf("=",i);a>o&&o!==-1&&(a=-1);let l=e.slice(i+1,a===-1?o===-1?void 0:o:a);if(n&&(l=_t(l)),i=o,l==="")continue;let d;a===-1?d="":(d=e.slice(a+1,o===-1?void 0:o),n&&(d=_t(d))),r?(s[l]&&Array.isArray(s[l])||(s[l]=[]),s[l].push(d)):s[l]??(s[l]=d)}return t?s[t]:s},Ds=Gr,Ls=(e,t)=>Gr(e,t,!0),Vr=decodeURIComponent,or=e=>qr(e,Vr),Oe,U,te,Jr,Qr,$t,ie,fr,Zr=(fr=class{constructor(e,t="/",r=[[]]){j(this,te);w(this,"raw");j(this,Oe);j(this,U);w(this,"routeIndex",0);w(this,"path");w(this,"bodyCache",{});j(this,ie,e=>{const{bodyCache:t,raw:r}=this,n=t[e];if(n)return n;const s=Object.keys(t)[0];return s?t[s].then(i=>(s==="json"&&(i=JSON.stringify(i)),new Response(i)[e]())):t[e]=r[e]()});this.raw=e,this.path=t,v(this,U,r),v(this,Oe,{})}param(e){return e?O(this,te,Jr).call(this,e):O(this,te,Qr).call(this)}query(e){return Ds(this.url,e)}queries(e){return Ls(this.url,e)}header(e){if(e)return this.raw.headers.get(e)??void 0;const t={};return this.raw.headers.forEach((r,n)=>{t[n]=r}),t}async parseBody(e){var t;return(t=this.bodyCache).parsedBody??(t.parsedBody=await Os(this,e))}json(){return f(this,ie).call(this,"json")}text(){return f(this,ie).call(this,"text")}arrayBuffer(){return f(this,ie).call(this,"arrayBuffer")}blob(){return f(this,ie).call(this,"blob")}formData(){return f(this,ie).call(this,"formData")}addValidatedData(e,t){f(this,Oe)[e]=t}valid(e){return f(this,Oe)[e]}get url(){return this.raw.url}get method(){return this.raw.method}get matchedRoutes(){return f(this,U)[0].map(([[,e]])=>e)}get routePath(){return f(this,U)[0].map(([[,e]])=>e)[this.routeIndex].path}},Oe=new WeakMap,U=new WeakMap,te=new WeakSet,Jr=function(e){const t=f(this,U)[0][this.routeIndex][1][e],r=O(this,te,$t).call(this,t);return r?/\%/.test(r)?or(r):r:void 0},Qr=function(){const e={},t=Object.keys(f(this,U)[0][this.routeIndex][1]);for(const r of t){const n=O(this,te,$t).call(this,f(this,U)[0][this.routeIndex][1][r]);n&&typeof n=="string"&&(e[r]=/\%/.test(n)?or(n):n)}return e},$t=function(e){return f(this,U)[1]?f(this,U)[1][e]:e},ie=new WeakMap,fr),Is="text/plain; charset=UTF-8",jt=(e,t={})=>{for(const r of Object.keys(t))e.set(r,t[r]);return e},Ue,ze,V,ve,Z,N,P,K,J,We,Re,Ne,qe,Ke,D,I,dr,Bs=(dr=class{constructor(e,t){j(this,D);j(this,Ue);j(this,ze);w(this,"env",{});j(this,V);w(this,"finalized",!1);w(this,"error");j(this,ve,200);j(this,Z);j(this,N);j(this,P);j(this,K);j(this,J,!0);j(this,We);j(this,Re);j(this,Ne);j(this,qe);j(this,Ke);w(this,"render",(...e)=>(f(this,Re)??v(this,Re,t=>this.html(t)),f(this,Re).call(this,...e)));w(this,"setLayout",e=>v(this,We,e));w(this,"getLayout",()=>f(this,We));w(this,"setRenderer",e=>{v(this,Re,e)});w(this,"header",(e,t,r)=>{if(t===void 0){f(this,N)?f(this,N).delete(e):f(this,P)&&delete f(this,P)[e.toLocaleLowerCase()],this.finalized&&this.res.headers.delete(e);return}r!=null&&r.append?(f(this,N)||(v(this,J,!1),v(this,N,new Headers(f(this,P))),v(this,P,{})),f(this,N).append(e,t)):f(this,N)?f(this,N).set(e,t):(f(this,P)??v(this,P,{}),f(this,P)[e.toLowerCase()]=t),this.finalized&&(r!=null&&r.append?this.res.headers.append(e,t):this.res.headers.set(e,t))});w(this,"status",e=>{v(this,J,!1),v(this,ve,e)});w(this,"set",(e,t)=>{f(this,V)??v(this,V,new Map),f(this,V).set(e,t)});w(this,"get",e=>f(this,V)?f(this,V).get(e):void 0);w(this,"newResponse",(...e)=>O(this,D,I).call(this,...e));w(this,"body",(e,t,r)=>typeof t=="number"?O(this,D,I).call(this,e,t,r):O(this,D,I).call(this,e,t));w(this,"text",(e,t,r)=>{if(!f(this,P)){if(f(this,J)&&!r&&!t)return new Response(e);v(this,P,{})}return f(this,P)["content-type"]=Is,typeof t=="number"?O(this,D,I).call(this,e,t,r):O(this,D,I).call(this,e,t)});w(this,"json",(e,t,r)=>{const n=JSON.stringify(e);return f(this,P)??v(this,P,{}),f(this,P)["content-type"]="application/json",typeof t=="number"?O(this,D,I).call(this,n,t,r):O(this,D,I).call(this,n,t)});w(this,"html",(e,t,r)=>(f(this,P)??v(this,P,{}),f(this,P)["content-type"]="text/html; charset=UTF-8",typeof e=="object"?jr(e,Er.Stringify,!1,{}).then(n=>typeof t=="number"?O(this,D,I).call(this,n,t,r):O(this,D,I).call(this,n,t)):typeof t=="number"?O(this,D,I).call(this,e,t,r):O(this,D,I).call(this,e,t)));w(this,"redirect",(e,t)=>(f(this,N)??v(this,N,new Headers),f(this,N).set("Location",String(e)),this.newResponse(null,t??302)));w(this,"notFound",()=>(f(this,Ne)??v(this,Ne,()=>new Response),f(this,Ne).call(this,this)));v(this,Ue,e),t&&(v(this,Z,t.executionCtx),this.env=t.env,v(this,Ne,t.notFoundHandler),v(this,Ke,t.path),v(this,qe,t.matchResult))}get req(){return f(this,ze)??v(this,ze,new Zr(f(this,Ue),f(this,Ke),f(this,qe))),f(this,ze)}get event(){if(f(this,Z)&&"respondWith"in f(this,Z))return f(this,Z);throw Error("This context has no FetchEvent")}get executionCtx(){if(f(this,Z))return f(this,Z);throw Error("This context has no ExecutionContext")}get res(){return v(this,J,!1),f(this,K)||v(this,K,new Response("404 Not Found",{status:404}))}set res(e){if(v(this,J,!1),f(this,K)&&e)try{for(const[t,r]of f(this,K).headers.entries())if(t!=="content-type")if(t==="set-cookie"){const n=f(this,K).headers.getSetCookie();e.headers.delete("set-cookie");for(const s of n)e.headers.append("set-cookie",s)}else e.headers.set(t,r)}catch(t){if(t instanceof TypeError&&t.message.includes("immutable")){this.res=new Response(e.body,{headers:e.headers,status:e.status});return}else throw t}v(this,K,e),this.finalized=!0}get var(){return f(this,V)?Object.fromEntries(f(this,V)):{}}},Ue=new WeakMap,ze=new WeakMap,V=new WeakMap,ve=new WeakMap,Z=new WeakMap,N=new WeakMap,P=new WeakMap,K=new WeakMap,J=new WeakMap,We=new WeakMap,Re=new WeakMap,Ne=new WeakMap,qe=new WeakMap,Ke=new WeakMap,D=new WeakSet,I=function(e,t,r){if(f(this,J)&&!r&&!t&&f(this,ve)===200)return new Response(e,{headers:f(this,P)});if(t&&typeof t!="number"){const s=new Headers(t.headers);f(this,N)&&f(this,N).forEach((o,a)=>{a==="set-cookie"?s.append(a,o):s.set(a,o)});const i=jt(s,f(this,P));return new Response(e,{headers:i,status:t.status??f(this,ve)})}const n=typeof t=="number"?t:f(this,ve);f(this,P)??v(this,P,{}),f(this,N)??v(this,N,new Headers),jt(f(this,N),f(this,P)),f(this,K)&&(f(this,K).headers.forEach((s,i)=>{var o,a;i==="set-cookie"?(o=f(this,N))==null||o.append(i,s):(a=f(this,N))==null||a.set(i,s)}),jt(f(this,N),f(this,P))),r??(r={});for(const[s,i]of Object.entries(r))if(typeof i=="string")f(this,N).set(s,i);else{f(this,N).delete(s);for(const o of i)f(this,N).append(s,o)}return new Response(e,{status:n,headers:f(this,N)})},dr),C="ALL",Fs="all",Hs=["get","post","put","delete","options","patch"],Yr="Can not add a route since the matcher is already built.",en=class extends Error{},Us=e=>e.text("404 Not Found",404),ar=(e,t)=>"getResponse"in e?e.getResponse():(console.error(e),t.text("Internal Server Error",500)),z,T,rn,Q,me,it,ot,hr,tn=(hr=class{constructor(t={}){j(this,T);w(this,"get");w(this,"post");w(this,"put");w(this,"delete");w(this,"options");w(this,"patch");w(this,"all");w(this,"on");w(this,"use");w(this,"router");w(this,"getPath");w(this,"_basePath","/");j(this,z,"/");w(this,"routes",[]);j(this,Q,Us);w(this,"errorHandler",ar);w(this,"onError",t=>(this.errorHandler=t,this));w(this,"notFound",t=>(v(this,Q,t),this));w(this,"fetch",(t,...r)=>O(this,T,ot).call(this,t,r[1],r[0],t.method));w(this,"request",(t,r,n,s)=>t instanceof Request?this.fetch(r?new Request(t,r):t,n,s):(t=t.toString(),this.fetch(new Request(/^https?:\/\//.test(t)?t:`http://localhost${ke("/",t)}`,r),n,s)));w(this,"fire",()=>{addEventListener("fetch",t=>{t.respondWith(O(this,T,ot).call(this,t.request,t,void 0,t.request.method))})});[...Hs,Fs].forEach(s=>{this[s]=(i,...o)=>(typeof i=="string"?v(this,z,i):O(this,T,me).call(this,s,f(this,z),i),o.forEach(a=>{O(this,T,me).call(this,s,f(this,z),a)}),this)}),this.on=(s,i,...o)=>{for(const a of[i].flat()){v(this,z,a);for(const l of[s].flat())o.map(d=>{O(this,T,me).call(this,l.toUpperCase(),f(this,z),d)})}return this},this.use=(s,...i)=>(typeof s=="string"?v(this,z,s):(v(this,z,"*"),i.unshift(s)),i.forEach(o=>{O(this,T,me).call(this,C,f(this,z),o)}),this);const n=t.strict??!0;delete t.strict,Object.assign(this,t),this.getPath=n?t.getPath??Kr:Ms}route(t,r){const n=this.basePath(t);return r.routes.map(s=>{var o;let i;r.errorHandler===ar?i=s.handler:(i=async(a,l)=>(await sr([],r.errorHandler)(a,()=>s.handler(a,l))).res,i[Ot]=s.handler),O(o=n,T,me).call(o,s.method,s.path,i)}),this}basePath(t){const r=O(this,T,rn).call(this);return r._basePath=ke(this._basePath,t),r}mount(t,r,n){let s,i;n&&(typeof n=="function"?i=n:(i=n.optionHandler,s=n.replaceRequest));const o=i?l=>{const d=i(l);return Array.isArray(d)?d:[d]}:l=>{let d;try{d=l.executionCtx}catch{}return[l.env,d]};s||(s=(()=>{const l=ke(this._basePath,t),d=l==="/"?0:l.length;return h=>{const p=new URL(h.url);return p.pathname=p.pathname.slice(d)||"/",new Request(p,h)}})());const a=async(l,d)=>{const h=await r(s(l.req.raw),...o(l));if(h)return h;await d()};return O(this,T,me).call(this,C,ke(t,"*"),a),this}},z=new WeakMap,T=new WeakSet,rn=function(){const t=new tn({router:this.router,getPath:this.getPath});return t.routes=this.routes,t},Q=new WeakMap,me=function(t,r,n){t=t.toUpperCase(),r=ke(this._basePath,r);const s={path:r,method:t,handler:n};this.router.add(t,r,[n,s]),this.routes.push(s)},it=function(t,r){if(t instanceof Error)return this.errorHandler(t,r);throw t},ot=function(t,r,n,s){if(s==="HEAD")return(async()=>new Response(null,await O(this,T,ot).call(this,t,r,n,"GET")))();const i=this.getPath(t,{env:n}),o=this.router.match(s,i),a=new Bs(t,{path:i,matchResult:o,env:n,executionCtx:r,notFoundHandler:f(this,Q)});if(o[0].length===1){let d;try{d=o[0][0][0][0](a,async()=>{a.res=await f(this,Q).call(this,a)})}catch(h){return O(this,T,it).call(this,h,a)}return d instanceof Promise?d.then(h=>h||(a.finalized?a.res:f(this,Q).call(this,a))).catch(h=>O(this,T,it).call(this,h,a)):d??f(this,Q).call(this,a)}const l=sr(o[0],this.errorHandler,f(this,Q));return(async()=>{try{const d=await l(a);if(!d.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return d.res}catch(d){return O(this,T,it).call(this,d,a)}})()},hr),dt="[^/]+",Le=".*",Ie="(?:|/.*)",De=Symbol(),zs=new Set(".\\+*[^]$()");function Ws(e,t){return e.length===1?t.length===1?e<t?-1:1:-1:t.length===1||e===Le||e===Ie?1:t===Le||t===Ie?-1:e===dt?1:t===dt?-1:e.length===t.length?e<t?-1:1:t.length-e.length}var ye,be,W,ur,Mt=(ur=class{constructor(){j(this,ye);j(this,be);j(this,W,Object.create(null))}insert(t,r,n,s,i){if(t.length===0){if(f(this,ye)!==void 0)throw De;if(i)return;v(this,ye,r);return}const[o,...a]=t,l=o==="*"?a.length===0?["","",Le]:["","",dt]:o==="/*"?["","",Ie]:o.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);let d;if(l){const h=l[1];let p=l[2]||dt;if(h&&l[2]&&(p=p.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(p)))throw De;if(d=f(this,W)[p],!d){if(Object.keys(f(this,W)).some(u=>u!==Le&&u!==Ie))throw De;if(i)return;d=f(this,W)[p]=new Mt,h!==""&&v(d,be,s.varIndex++)}!i&&h!==""&&n.push([h,f(d,be)])}else if(d=f(this,W)[o],!d){if(Object.keys(f(this,W)).some(h=>h.length>1&&h!==Le&&h!==Ie))throw De;if(i)return;d=f(this,W)[o]=new Mt}d.insert(a,r,n,s,i)}buildRegExpStr(){const r=Object.keys(f(this,W)).sort(Ws).map(n=>{const s=f(this,W)[n];return(typeof f(s,be)=="number"?`(${n})@${f(s,be)}`:zs.has(n)?`\\${n}`:n)+s.buildRegExpStr()});return typeof f(this,ye)=="number"&&r.unshift(`#${f(this,ye)}`),r.length===0?"":r.length===1?r[0]:"(?:"+r.join("|")+")"}},ye=new WeakMap,be=new WeakMap,W=new WeakMap,ur),ht,Xe,pr,qs=(pr=class{constructor(){j(this,ht,{varIndex:0});j(this,Xe,new Mt)}insert(e,t,r){const n=[],s=[];for(let o=0;;){let a=!1;if(e=e.replace(/\{[^}]+\}/g,l=>{const d=`@\\${o}`;return s[o]=[d,l],o++,a=!0,d}),!a)break}const i=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let o=s.length-1;o>=0;o--){const[a]=s[o];for(let l=i.length-1;l>=0;l--)if(i[l].indexOf(a)!==-1){i[l]=i[l].replace(a,s[o][1]);break}}return f(this,Xe).insert(i,t,n,f(this,ht),r),n}buildRegExp(){let e=f(this,Xe).buildRegExpStr();if(e==="")return[/^$/,[],[]];let t=0;const r=[],n=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(s,i,o)=>i!==void 0?(r[++t]=Number(i),"$()"):(o!==void 0&&(n[Number(o)]=++t),"")),[new RegExp(`^${e}`),r,n]}},ht=new WeakMap,Xe=new WeakMap,pr),nn=[],Ks=[/^$/,[],Object.create(null)],at=Object.create(null);function sn(e){return at[e]??(at[e]=new RegExp(e==="*"?"":`^${e.replace(/\/\*$|([.\\+*[^\]$()])/g,(t,r)=>r?`\\${r}`:"(?:|/.*)")}$`))}function Xs(){at=Object.create(null)}function Gs(e){var d;const t=new qs,r=[];if(e.length===0)return Ks;const n=e.map(h=>[!/\*|\/:/.test(h[0]),...h]).sort(([h,p],[u,g])=>h?1:u?-1:p.length-g.length),s=Object.create(null);for(let h=0,p=-1,u=n.length;h<u;h++){const[g,E,m]=n[h];g?s[E]=[m.map(([b])=>[b,Object.create(null)]),nn]:p++;let y;try{y=t.insert(E,p,g)}catch(b){throw b===De?new en(E):b}g||(r[p]=m.map(([b,x])=>{const _=Object.create(null);for(x-=1;x>=0;x--){const[k,R]=y[x];_[k]=R}return[b,_]}))}const[i,o,a]=t.buildRegExp();for(let h=0,p=r.length;h<p;h++)for(let u=0,g=r[h].length;u<g;u++){const E=(d=r[h][u])==null?void 0:d[1];if(!E)continue;const m=Object.keys(E);for(let y=0,b=m.length;y<b;y++)E[m[y]]=a[E[m[y]]]}const l=[];for(const h in o)l[h]=r[o[h]];return[i,l,s]}function je(e,t){if(e){for(const r of Object.keys(e).sort((n,s)=>s.length-n.length))if(sn(r).test(t))return[...e[r]]}}var oe,ae,Ce,on,an,mr,Vs=(mr=class{constructor(){j(this,Ce);w(this,"name","RegExpRouter");j(this,oe);j(this,ae);v(this,oe,{[C]:Object.create(null)}),v(this,ae,{[C]:Object.create(null)})}add(e,t,r){var a;const n=f(this,oe),s=f(this,ae);if(!n||!s)throw new Error(Yr);n[e]||[n,s].forEach(l=>{l[e]=Object.create(null),Object.keys(l[C]).forEach(d=>{l[e][d]=[...l[C][d]]})}),t==="/*"&&(t="*");const i=(t.match(/\/:/g)||[]).length;if(/\*$/.test(t)){const l=sn(t);e===C?Object.keys(n).forEach(d=>{var h;(h=n[d])[t]||(h[t]=je(n[d],t)||je(n[C],t)||[])}):(a=n[e])[t]||(a[t]=je(n[e],t)||je(n[C],t)||[]),Object.keys(n).forEach(d=>{(e===C||e===d)&&Object.keys(n[d]).forEach(h=>{l.test(h)&&n[d][h].push([r,i])})}),Object.keys(s).forEach(d=>{(e===C||e===d)&&Object.keys(s[d]).forEach(h=>l.test(h)&&s[d][h].push([r,i]))});return}const o=Xr(t)||[t];for(let l=0,d=o.length;l<d;l++){const h=o[l];Object.keys(s).forEach(p=>{var u;(e===C||e===p)&&((u=s[p])[h]||(u[h]=[...je(n[p],h)||je(n[C],h)||[]]),s[p][h].push([r,i-d+l+1]))})}}match(e,t){Xs();const r=O(this,Ce,on).call(this);return this.match=(n,s)=>{const i=r[n]||r[C],o=i[2][s];if(o)return o;const a=s.match(i[0]);if(!a)return[[],nn];const l=a.indexOf("",1);return[i[1][l],a]},this.match(e,t)}},oe=new WeakMap,ae=new WeakMap,Ce=new WeakSet,on=function(){const e=Object.create(null);return Object.keys(f(this,ae)).concat(Object.keys(f(this,oe))).forEach(t=>{e[t]||(e[t]=O(this,Ce,an).call(this,t))}),v(this,oe,v(this,ae,void 0)),e},an=function(e){const t=[];let r=e===C;return[f(this,oe),f(this,ae)].forEach(n=>{const s=n[e]?Object.keys(n[e]).map(i=>[i,n[e][i]]):[];s.length!==0?(r||(r=!0),t.push(...s)):e!==C&&t.push(...Object.keys(n[C]).map(i=>[i,n[C][i]]))}),r?Gs(t):null},mr),le,Y,gr,Zs=(gr=class{constructor(e){w(this,"name","SmartRouter");j(this,le,[]);j(this,Y,[]);v(this,le,e.routers)}add(e,t,r){if(!f(this,Y))throw new Error(Yr);f(this,Y).push([e,t,r])}match(e,t){if(!f(this,Y))throw new Error("Fatal error");const r=f(this,le),n=f(this,Y),s=r.length;let i=0,o;for(;i<s;i++){const a=r[i];try{for(let l=0,d=n.length;l<d;l++)a.add(...n[l]);o=a.match(e,t)}catch(l){if(l instanceof en)continue;throw l}this.match=a.match.bind(a),v(this,le,[a]),v(this,Y,void 0);break}if(i===s)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,o}get activeRouter(){if(f(this,Y)||f(this,le).length!==1)throw new Error("No active router has been determined yet.");return f(this,le)[0]}},le=new WeakMap,Y=new WeakMap,gr),$e=Object.create(null),ce,M,we,Ae,$,ee,ge,vr,ln=(vr=class{constructor(e,t,r){j(this,ee);j(this,ce);j(this,M);j(this,we);j(this,Ae,0);j(this,$,$e);if(v(this,M,r||Object.create(null)),v(this,ce,[]),e&&t){const n=Object.create(null);n[e]={handler:t,possibleKeys:[],score:0},v(this,ce,[n])}v(this,we,[])}insert(e,t,r){v(this,Ae,++zt(this,Ae)._);let n=this;const s=Ps(t),i=[];for(let l=0,d=s.length;l<d;l++){const h=s[l],p=s[l+1],u=ir(h,p),g=Array.isArray(u)?u[0]:h;if(Object.keys(f(n,M)).includes(g)){n=f(n,M)[g];const E=ir(h,p);E&&i.push(E[1]);continue}f(n,M)[g]=new ln,u&&(f(n,we).push(u),i.push(u[1])),n=f(n,M)[g]}const o=Object.create(null),a={handler:r,possibleKeys:i.filter((l,d,h)=>h.indexOf(l)===d),score:f(this,Ae)};return o[e]=a,f(n,ce).push(o),n}search(e,t){var a;const r=[];v(this,$,$e);let s=[this];const i=Wr(t),o=[];for(let l=0,d=i.length;l<d;l++){const h=i[l],p=l===d-1,u=[];for(let g=0,E=s.length;g<E;g++){const m=s[g],y=f(m,M)[h];y&&(v(y,$,f(m,$)),p?(f(y,M)["*"]&&r.push(...O(this,ee,ge).call(this,f(y,M)["*"],e,f(m,$))),r.push(...O(this,ee,ge).call(this,y,e,f(m,$)))):u.push(y));for(let b=0,x=f(m,we).length;b<x;b++){const _=f(m,we)[b],k=f(m,$)===$e?{}:{...f(m,$)};if(_==="*"){const S=f(m,M)["*"];S&&(r.push(...O(this,ee,ge).call(this,S,e,f(m,$))),v(S,$,k),u.push(S));continue}if(h==="")continue;const[R,F,X]=_,H=f(m,M)[R],L=i.slice(l).join("/");if(X instanceof RegExp){const S=X.exec(L);if(S){if(k[F]=S[0],r.push(...O(this,ee,ge).call(this,H,e,f(m,$),k)),Object.keys(f(H,M)).length){v(H,$,k);const he=((a=S[0].match(/\//))==null?void 0:a.length)??0;(o[he]||(o[he]=[])).push(H)}continue}}(X===!0||X.test(h))&&(k[F]=h,p?(r.push(...O(this,ee,ge).call(this,H,e,k,f(m,$))),f(H,M)["*"]&&r.push(...O(this,ee,ge).call(this,f(H,M)["*"],e,k,f(m,$)))):(v(H,$,k),u.push(H)))}}s=u.concat(o.shift()??[])}return r.length>1&&r.sort((l,d)=>l.score-d.score),[r.map(({handler:l,params:d})=>[l,d])]}},ce=new WeakMap,M=new WeakMap,we=new WeakMap,Ae=new WeakMap,$=new WeakMap,ee=new WeakSet,ge=function(e,t,r,n){const s=[];for(let i=0,o=f(e,ce).length;i<o;i++){const a=f(e,ce)[i],l=a[t]||a[C],d={};if(l!==void 0&&(l.params=Object.create(null),s.push(l),r!==$e||n&&n!==$e))for(let h=0,p=l.possibleKeys.length;h<p;h++){const u=l.possibleKeys[h],g=d[l.score];l.params[u]=n!=null&&n[u]&&!g?n[u]:r[u]??(n==null?void 0:n[u]),d[l.score]=!0}}return s},vr),Ee,yr,Js=(yr=class{constructor(){w(this,"name","TrieRouter");j(this,Ee);v(this,Ee,new ln)}add(e,t,r){const n=Xr(t);if(n){for(let s=0,i=n.length;s<i;s++)f(this,Ee).insert(e,n[s],r);return}f(this,Ee).insert(e,t,r)}match(e,t){return f(this,Ee).search(e,t)}},Ee=new WeakMap,yr),lt=class extends tn{constructor(e={}){super(e),this.router=e.router??new Zs({routers:[new Vs,new Js]})}},Qs=e=>e;const cn=new mn,lr=e=>(e=e.replace(/\.tsx?$/g,"").replace(/\.mdx?$/g,"").replace(/^\/?index$/,"/").replace(/\/index$/,"").replace(/\[\.{3}.+\]/,"*").replace(/\[(.+?)\]/g,":$1"),/^\//.test(e)?e:"/"+e),kt=e=>{const t={};for(const[r,n]of Object.entries(e)){const s=r.split("/"),i=s.pop(),o=s.join("/");t[o]||(t[o]={}),i&&(t[o][i]=n)}for(const[r,n]of Object.entries(t)){const s=Object.entries(n).sort(([i],[o])=>i[0]==="["&&o[0]!=="["?1:i[0]!=="["&&o[0]==="["?-1:i.localeCompare(o));t[r]=Object.fromEntries(s)}return t},Ys=e=>Object.keys(e).sort((r,n)=>{const s=r.split("/").length,i=n.split("/").length;return s-i||n.localeCompare(r)}).map(r=>({[r]:e[r]})),ei=e=>{const t={};for(const n of Object.keys(e)){const s=n.split("/");s.pop();const i=s.join("/");t[i]||(t[i]=[]),t[i].includes(n)||t[i].push(n)}const r=Object.keys(t).sort((n,s)=>s.length-n.length);for(const n of r)for(const s of r)if(s.startsWith(n)&&s!==n){const i=new Set([...t[s],...t[n]]);t[s]=[...i]}return t},ti="_404.tsx",ri="_error.tsx",ni=["GET","POST","PUT","DELETE","OPTIONS","PATCH"],si=e=>{const t=e.root,r=new RegExp(`^${t}`),n=y=>lr(y.replace(r,"")),s=new lt;s.use(async function(b,x){await cn.run(b,()=>x())});const i=e.NOT_FOUND,o=kt(i),a=e.ERROR,l=kt(a),d=e.RENDERER,h=ei(d),p=e.MIDDLEWARE,u=e.ROUTES,g=Ys(kt(u)),E=(y,b)=>{let x=b[y]??[];const _=R=>(x=b[R.join("/")],x||(R.pop(),R.length&&_(R)),x??[]),k=y.split("/");return x=_(k),x.sort((R,F)=>R.split("/").length-F.split("/").length),x},m={};for(const y of g)for(const[b,x]of Object.entries(y)){const _=new lt;let k=!1;E(b,h).map(L=>{const S=d[L];S[de]&&(k=!0);const re=S.default;re&&_.all("*",re)});const F=Object.keys(p).find(L=>{const S=b.replaceAll("[","\\[").replace("]","\\]");return new RegExp(S+"/_middleware.tsx?").test(L)});if(F){const L=p[F];L.default&&_.use(...L.default)}for(const[L,S]of Object.entries(x)){const he=S[de],re=Qs(async function(se,hn){se.set(de,he?!0:k),await hn()}),ne=S.default,ue=lr(L);ne&&"fetch"in ne&&(_.use(re),_.route(ue,ne));for(const pe of ni){const se=S[pe];se&&(_.on(pe,ue,re),_.on(pe,ue,...se))}ne&&Array.isArray(ne)&&(_.get(ue,re),_.get(ue,...ne)),typeof ne=="function"&&(_.get(ue,re),_.get(ue,async pe=>{const se=await ne(pe);return se instanceof Response?se:pe.render(se,S)}))}const X=oi(b,l);X&&(m[b]=X);for(const[L,S]of Object.entries(m))new RegExp(`^${L}`).test(b)&&S&&_.onError(S);let H=n(b);s.route(H,_)}for(const y of g.reverse()){const b=Object.entries(y)[0][0],x=new lt;ii(x,b,o);const _=n(b);s.route(_,x)}return s};function ii(e,t,r){for(const[n,s]of Object.entries(r))if(t===n){const i=s[ti];if(i){const o=i.default;i[de]&&e.use("*",(l,d)=>(l.set(de,!0),d())),e.get("*",l=>(l.status(404),o(l)))}}}function oi(e,t){for(const[r,n]of Object.entries(t))if(e===r){const s=n[ri];if(s){const i=s.default;if(i)return async(a,l)=>{const d=s[de];return d&&l.set(de,d),l.status(500),i(a,l)}}}}const ai=e=>si({root:"/app/routes",NOT_FOUND:Object.assign({}),ERROR:Object.assign({}),RENDERER:Object.assign({"/app/routes/_renderer.tsx":ls,"/app/routes/posts/_renderer.tsx":ys}),MIDDLEWARE:Object.assign({}),ROUTES:Object.assign({"/app/routes/index.tsx":ks,"/app/routes/posts/books_id_like_to_read.mdx":Ur,"/app/routes/posts/transfer_blog_template.mdx":zr})}),li=({children:e})=>{const t=cn.getStore();if(!t)throw new Error("No context found");return c(Te,{children:t.get(de)&&e})},ci={"app/client.ts":{file:"static/client-DNrR7D2B.js",name:"client",src:"app/client.ts",isEntry:!0,dynamicImports:["app/islands/ShareButton.tsx","node_modules/honox/dist/client/runtime.js","node_modules/honox/dist/client/runtime.js"]},"app/islands/ShareButton.tsx":{file:"static/ShareButton-C9G0UybX.js",name:"ShareButton",src:"app/islands/ShareButton.tsx",isDynamicEntry:!0,imports:["app/client.ts"]},"app/style.css":{file:"static/assets/style.css",src:"app/style.css",isEntry:!0},"node_modules/honox/dist/client/runtime.js":{file:"static/runtime-CC6x0Qm5.js",name:"runtime",src:"node_modules/honox/dist/client/runtime.js",isDynamicEntry:!0,imports:["app/client.ts"]}},fi=Object.freeze(Object.defineProperty({__proto__:null,default:ci},Symbol.toStringTag,{value:"Module"})),di=e=>e.endsWith("/")?e:e+"/",hi=e=>{const t=e.src;if(e.prod??!0){let r=e.manifest;if(!r){const n=Object.assign({"/dist/.vite/manifest.json":fi});for(const[,s]of Object.entries(n))if(s.default){r=s.default;break}}if(r){const n=r[t.replace(/^\//,"")];if(n)return c(li,{children:c("script",{type:"module",async:!!e.async,src:`${di("/")}${n.file}`,nonce:e.nonce})})}return c(Te,{})}else return c("script",{type:"module",async:!!e.async,src:t,nonce:e.nonce})},fn=ai();bn(fn);const cr=new lt,ui=Object.assign({"/app/server.ts":fn});let dn=!1;for(const[,e]of Object.entries(ui))e&&(cr.route("/",e),cr.notFound(e.notFoundHandler),dn=!0);if(!dn)throw new Error("Can't import modules from ['/src/index.tsx','/app/server.ts']");export{cr as default};
